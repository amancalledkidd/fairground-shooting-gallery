(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();const v=document.getElementById("game__area"),_=document.querySelector(".grid-container");if(!v||!_)throw new Error("Game map not found");const C=(t,e,n,r=!1,o=700)=>{setInterval(()=>{const s=document.querySelector(`.${t}`);s&&s.remove();let i;r?i=L(t):(i=document.createElement("div"),i.classList.add(t)),i.style.left=`${Math.floor(Math.random()*n)}%`,i.style.top=`${Math.floor(Math.random()*e)}%`,v.appendChild(i)},o)},L=t=>{const e=document.createElement("img");return e.src=`../assets/${t}.png`,e.classList.add(t),e},c=(t,e,n,r=5,o=10,s=.5,i=!1)=>{for(let d=1;d<e+1;d++){let l;i?l=L(t):(l=document.createElement("div"),l.classList.add(t)),n==="H"?(l.style.left=`${d*r}%`,l.style.top=`${o}%`):(l.style.left=`${r}%`,l.style.top=`${d*o}%`),v.appendChild(l),q(l,n,s)}},q=(t,e,n)=>{let r=1;const o=()=>{let s;e==="V"?s=parseFloat(t.style.top):s=parseFloat(t.style.left),(s>120||s<-20)&&(r*=-1),e==="V"?t.style.top=`${s+n*r}%`:t.style.left=`${s+n*r}%`,requestAnimationFrame(o)};o()},u=document.querySelector("#hit"),m=document.querySelector("#gunshot"),f=document.querySelector("#glasshit"),p=document.querySelector("#ufohit");if(!m||!u||!f||!p)throw new Error("Sound effect not found");const E=()=>{u.volume=.2,u.currentTime=0,u.play()},M=()=>{m.volume=.1,m.currentTime=0,m.play()},w=()=>{f.volume=.2,f.currentTime=0,f.play()},b=()=>{p.volume=.4,p.currentTime=0,p.play()},a=document.getElementById("game__area"),H=document.querySelector("#score__card--points"),$=document.querySelector("#score__card--multiplier"),y=document.querySelector("#score__card--timer"),S=document.querySelector("#start__button");if(!a)throw new Error("Game map not found");if(!S)throw new Error("Start button not found");if(!H||!$||!y)throw new Error("Score card not found");const g=t=>{t.hits>10?t.multiplier=5:t.hits>3?t.multiplier=2:t.multiplier=1,$.innerText=`Multiplier: x${t.multiplier}`},T=()=>{a.innerHTML="",S.innerText="Restart",O()},O=()=>{const t={score:0,shots:0,hits:0,multiplier:1},e=n=>{const r=n.target;t.shots+=1,M(),r.classList.contains("target")?(x(t),r.remove()):r.classList.contains("bottle")?(P(t),r.remove()):r.classList.contains("ufo")?(I(t),r.remove()):r.classList.contains("sp-target")?(F(t),r.remove()):t.hits=0};a.addEventListener("click",e),A(t),c("target",5,"H",10,30),c("bottle",20,"H",7,93.5,.7,!0),c("target",5,"V",5,15),c("target",5,"V",80,15),c("target",10,"H",10,70),setTimeout(()=>{C("ufo",90,90,!0,800)},3e4),setTimeout(()=>{c("target",10,"H",7,5)},1e4)},x=t=>{E(),t.score+=10*t.multiplier,g(t),t.hits+=1,h(t)},I=t=>{b(),t.score+=200*t.multiplier,g(t),t.hits+=1,h(t)},P=t=>{w(),t.score+=20*t.multiplier,g(t),t.hits+=1,h(t)},F=t=>{E(),t.score+=50*t.multiplier,g(t),t.hits+=1,h(t)},h=t=>{H.textContent=`Score: ${t.score.toString()}`},A=t=>{let e=60;const n=setInterval(()=>{e<=0?(clearInterval(n),B(t)):(e-=1,y.textContent=`Time: ${e}`,e<=10&&(y.style.color="red"))},1e3)},B=t=>{alert(`Game Over! Your score is ${t.score}`);const e=document.createElement("h1");e.classList.add("final__score"),e.textContent=`Final Score: ${t.score}`;const n=document.createElement("button");n.classList.add("button"),n.textContent="Play Again",n.addEventListener("click",T),a.innerHTML="",a.appendChild(e),a.appendChild(n)};S.addEventListener("click",T);
