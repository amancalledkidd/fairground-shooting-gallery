(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function o(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(s){if(s.ep)return;s.ep=!0;const l=o(s);fetch(s.href,l)}})();const q=""+new URL("bottle-FQkB7hVI.webp",import.meta.url).href,M=""+new URL("ufo-eU926Vl-.webp",import.meta.url).href,S=document.getElementById("game__area"),T=document.querySelector(".grid-container");if(!S||!T)throw new Error("Game map not found");const I=(t,e,o,r=!1,s=700,l=20)=>{let c=0;const a=setInterval(()=>{if(c>l){clearInterval(a);return}const i=document.querySelector(`.${t}`);i&&i.remove();let d;r?d=w(t):(d=document.createElement("div"),d.classList.add(t)),d.style.left=`${Math.floor(Math.random()*o)}%`,d.style.top=`${Math.floor(Math.random()*e)}%`,S.appendChild(d),c+=1},s)},w=t=>{const e=document.createElement("img");return t=="ufo"?(e.src=M,e.classList.add(t)):(t=="bottle"&&(e.src=q),e.classList.add(t)),e},u=(t,e,o,r=5,s=10,l=.5,c=!1)=>{for(let a=1;a<e+1;a++){let i;c?i=w(t):(i=document.createElement("div"),i.classList.add(t)),o==="H"?(i.style.left=`${a*r}%`,i.style.top=`${s}%`):(i.style.left=`${r}%`,i.style.top=`${a*s}%`),S.appendChild(i),x(i,o,l)}},x=(t,e,o)=>{let r=1;const s=()=>{let l;e==="V"?l=parseFloat(t.style.top):l=parseFloat(t.style.left),(l>120||l<-20)&&(r*=-1),e==="V"?t.style.top=`${l+o*r}%`:t.style.left=`${l+o*r}%`,requestAnimationFrame(s)};s()},m=document.querySelector("#hit"),p=document.querySelector("#gunshot"),h=document.querySelector("#glasshit"),g=document.querySelector("#ufohit");if(!p||!m||!h||!g)throw new Error("Sound effect not found");const H=()=>{m.volume=.2,m.currentTime=0,m.play()},O=()=>{p.volume=.1,p.currentTime=0,p.play()},A=()=>{h.volume=.2,h.currentTime=0,h.play()},F=()=>{g.volume=.4,g.currentTime=0,g.play()},n=document.getElementById("game__area"),C=document.querySelector("#score__card--points"),b=document.querySelector("#score__card--multiplier"),y=document.querySelector("#score__card--timer"),E=document.querySelector("#start__button");if(!n)throw new Error("Game map not found");if(!E)throw new Error("Start button not found");if(!C||!b||!y)throw new Error("Score card not found");let f=null;const P=t=>e=>{const o=e.target;t.shots+=1,O(),o.classList.contains("target")?(B(t),o.remove()):o.classList.contains("bottle")?(N(t),o.remove()):o.classList.contains("ufo")?(U(t),o.remove()):o.classList.contains("sp-target")?(R(t),o.remove()):t.hits=0},v=t=>{t.hits>10?t.multiplier=5:t.hits>3?t.multiplier=2:t.multiplier=1,b.innerText=`Multiplier: x${t.multiplier}`},$=()=>{_(),E.innerText="Restart",y.style.color="white",V()},_=()=>{for(;n.firstChild;)n.removeChild(n.firstChild);f&&(n.removeEventListener("click",f),f=null)},V=()=>{const t={score:0,shots:0,hits:0,multiplier:1};f=P(t),n.addEventListener("click",f),k(t),u("target",5,"H",10,30),u("bottle",20,"H",7,93.5,.7,!0),u("target",5,"V",5,15),u("target",5,"V",80,15),u("target",10,"H",10,70),setTimeout(()=>{I("ufo",90,90,!0,800)},3e4),setTimeout(()=>{u("target",10,"H",7,5)},1e4)},B=t=>{H(),t.score+=10*t.multiplier,v(t),t.hits+=1,L(t)},U=t=>{F(),t.score+=200*t.multiplier,v(t),t.hits+=1,L(t)},N=t=>{A(),t.score+=20*t.multiplier,v(t),t.hits+=1,L(t)},R=t=>{H(),t.score+=50*t.multiplier,v(t),t.hits+=1,L(t)},L=t=>{C.textContent=`Score: ${t.score}`},k=t=>{let e=60;const o=setInterval(()=>{e<=0?(clearInterval(o),K(t)):(e-=1,y.textContent=`Time: ${e}`,e<=10&&(y.style.color="red"))},1e3)},K=t=>{_();const e=document.createElement("h1");e.classList.add("final__score"),e.textContent=`Final Score: ${t.score}`;const o=document.createElement("button");o.classList.add("button"),o.textContent="Play Again",o.addEventListener("click",$),n.innerHTML="",n.appendChild(e),n.appendChild(o)};E.addEventListener("click",$);
